APIVersion: 1
{#
    The `label` field is used by the import routine to determine the
    uniqueness of an object. If the label is unique it will create
    new objects; if the label matches an existing import it will
    update / replace existing objects.
#}
label: custom-extnet-{{ pol_uid }}
data:
  externalnetworks:
  - name: "custom-extnet-{{ pol_uid }}"
    description: {{ spec.description | replace('\n', ' ') }}
    entries:
{% for entry in spec.entries %}
    - "{{ entry }}"
{% endfor %}
    protocols:
{% for protocol in spec.protocols %}
    - "{{ protocol }}"
{% endfor %}
    ports:
{% for port in spec.ports %}
    - "{{ port }}"
{% endfor %}
    associatedTags:
    - k8s-uuid={{ k8s_uuid }}
    - ext:name={{ spec.name }}
